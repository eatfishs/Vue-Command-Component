"use strict";var Fe=Object.defineProperty,Be=Object.defineProperties;var Ue=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable;var K=(e,t,n)=>t in e?Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e,t)=>{for(var n in t||(t={}))He.call(t,n)&&K(e,n,t[n]);if(ie)for(var n of ie(t))Ge.call(t,n)&&K(e,n,t[n]);return e},L=(e,t)=>Be(e,Ue(t));var se=(e,t,n)=>K(e,typeof t!="symbol"?t+"":t,n);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("vue");var ee=(e=>(e.destroy="destroy",e))(ee||{});class be{constructor(){se(this,"map",new WeakMap)}getEventsMapByConsumer(t){let n=this.map.get(t);return n||(n=new Map,this.map.set(t,n)),n}getEventsByConsumer(t,n){const r=this.getEventsMapByConsumer(t);let o=r.get(n);return o||(o=new Set,r.set(n,o)),o}on(t,n,r,o={}){const a=this.getEventsByConsumer(t,n);let u=r;o.once&&(u=(...i)=>{r(...i),this.off(t,n,u)}),a.add(u),o.callImmediatelyAfterDelay!==void 0&&setTimeout(()=>{u()},o.callImmediatelyAfterDelay||0)}once(t,n,r,o={}){this.on(t,n,r,L(T({},o),{once:!0}))}emit(t,n,...r){this.getEventsByConsumer(t,n).forEach(a=>a(...r))}off(t,n,r){this.getEventsByConsumer(t,n).delete(r)}}const Ke=(e="")=>e.slice(2).toLowerCase(),Le=(e="")=>`on${e.charAt(0).toUpperCase()}${e.slice(1)}`,_e=()=>{let e=()=>{},t=()=>{};return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}},We=e=>{var r;const t=((r=e.parentElement)==null?void 0:r.children)||[];let n=0;return Array.from(t).forEach(o=>{if(o!==e){const a=parseInt(window.getComputedStyle(o).zIndex);!isNaN(a)&&a>n&&(n=a)}}),+n},Ve=e=>e==null,qe=e=>typeof e!="function"?e:c.h(c.defineComponent({render:()=>e()})),Ze=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),te=Symbol("CommandComponentConsumerInjectKey"),q=Symbol("CommandComponentStackInjectKey"),R=new be,Z=new Set,X=e=>T(T({},e.parent?X(e.parent):{}),e.provides);function Ce(e,t,n){var N;console.log(99999),e||c.render(c.h({setup(){return e=c.getCurrentInstance(),()=>null}}),document.body);const r=(typeof n.appendTo=="string"?document.querySelector(n.appendTo):n.appendTo)||((N=e.vnode.el)==null?void 0:N.parentElement)||document.body,o=document.createElement("div");o.className=n.customClassName||"command-component-container";const a=()=>{if(l.destroyed)throw new Error("Consumer has been destroyed");n.visible.value=!1},u=()=>{if(l.destroyed)throw new Error("Consumer has been destroyed");n.visible.value=!0},i=()=>{c.nextTick(()=>{c.render(null,o),o.remove()})},{promise:s,resolve:h,reject:d}=_e(),v=3e3,g=(p=!1)=>{p?(a(),l.once(ee.destroy,i,{once:!0,callImmediatelyAfterDelay:v})):(Z.delete(l),l.stack.splice(l.stackIndex).forEach(m=>m.destroy(!0)),l.destroyed=!0)},b=p=>{h(p),g()},_=p=>{d(p),g()},l={meta:n.meta||{},promise:s,resolve:h,reject:d,destroyWithResolve:b,destroyWithReject:_,hide:a,show:u,destroy:g,container:o,visible:n.visible,on:(p,y,m={})=>R.on(l,p,y,m),once:(p,y,m={})=>R.on(l,p,y,m),emit:(p,...y)=>R.emit(l,p,...y),off:(p,y)=>R.off(l,p,y),stack:[],stackIndex:-1,componentRef:void 0,mounted:!1,destroyed:!1},G=c.defineComponent({setup(){const p=c.getCurrentInstance();for(const S in n.provideProps)c.provide(S,n.provideProps[S]);const y=T(T({},X(p)),X(e));for(const S in y)c.provide(S,y[S]);c.provide(te,l);const m=c.inject(q,[]);return l.stackIndex=m.length,m.push(l),c.provide(q,m),l.stack=m,()=>c.h(t)}}),w=c.createVNode(G,null,null);return w.appContext=(e==null?void 0:e.appContext)||w.appContext,n.fragment?(Object.assign(o.style,{display:"none",position:"absolute",pointerEvents:"none"}),document.head.appendChild(o),c.render(c.h(c.Teleport,{to:r},w),o)):(r.appendChild(o),c.render(w,o)),(n.immediate===void 0||n.immediate)&&l.show(),l.mounted=!0,Z.add(l),l}const Xe=(e=!0)=>{const t=()=>e&&console.warn(`Failed to get Consumer instance. Please note:
    1. This function needs to be called directly in the setup top level.
    2. Make sure to display this component inside a command dialog, or you can ignore this warning message by using warn parameter: useConsumer(false)`);return c.inject(te,()=>new Proxy({},{get:()=>t,apply:t}),!0)};var Te=typeof global=="object"&&global&&global.Object===Object&&global,Je=typeof self=="object"&&self&&self.Object===Object&&self,$=Te||Je||Function("return this")(),D=$.Symbol,je=Object.prototype,Ye=je.hasOwnProperty,Qe=je.toString,E=D?D.toStringTag:void 0;function ke(e){var t=Ye.call(e,E),n=e[E];try{e[E]=void 0;var r=!0}catch(a){}var o=Qe.call(e);return r&&(t?e[E]=n:delete e[E]),o}var et=Object.prototype,tt=et.toString;function nt(e){return tt.call(e)}var rt="[object Null]",ot="[object Undefined]",ue=D?D.toStringTag:void 0;function F(e){return e==null?e===void 0?ot:rt:ue&&ue in Object(e)?ke(e):nt(e)}function M(e){return e!=null&&typeof e=="object"}var J=Array.isArray;function O(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Oe(e){return e}var at="[object AsyncFunction]",it="[object Function]",st="[object GeneratorFunction]",ut="[object Proxy]";function ne(e){if(!O(e))return!1;var t=F(e);return t==it||t==st||t==at||t==ut}var W=$["__core-js_shared__"],ce=function(){var e=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ct(e){return!!ce&&ce in e}var ft=Function.prototype,lt=ft.toString;function dt(e){if(e!=null){try{return lt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var pt=/[\\^$.*+?()[\]{}|]/g,ht=/^\[object .+?Constructor\]$/,vt=Function.prototype,yt=Object.prototype,mt=vt.toString,gt=yt.hasOwnProperty,bt=RegExp("^"+mt.call(gt).replace(pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _t(e){if(!O(e)||ct(e))return!1;var t=ne(e)?bt:ht;return t.test(dt(e))}function Ct(e,t){return e==null?void 0:e[t]}function re(e,t){var n=Ct(e,t);return _t(n)?n:void 0}var fe=Object.create,Tt=function(){function e(){}return function(t){if(!O(t))return{};if(fe)return fe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function jt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var wt=800,Pt=16,At=Date.now;function St(e){var t=0,n=0;return function(){var r=At(),o=Pt-(r-n);if(n=r,o>0){if(++t>=wt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Et(e){return function(){return e}}var z=function(){try{var e=re(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),xt=z?function(e,t){return z(e,"toString",{configurable:!0,enumerable:!1,value:Et(t),writable:!0})}:Oe,It=St(xt),$t=9007199254740991,Mt=/^(?:0|[1-9]\d*)$/;function we(e,t){var n=typeof e;return t=t==null?$t:t,!!t&&(n=="number"||n!="symbol"&&Mt.test(e))&&e>-1&&e%1==0&&e<t}function oe(e,t,n){t=="__proto__"&&z?z(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function B(e,t){return e===t||e!==e&&t!==t}var Nt=Object.prototype,Rt=Nt.hasOwnProperty;function Dt(e,t,n){var r=e[t];(!(Rt.call(e,t)&&B(r,n))||n===void 0&&!(t in e))&&oe(e,t,n)}function zt(e,t,n,r){var o=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var i=t[a],s=void 0;s===void 0&&(s=e[i]),o?oe(n,i,s):Dt(n,i,s)}return n}var le=Math.max;function Ft(e,t,n){return t=le(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=le(r.length-t,0),u=Array(a);++o<a;)u[o]=r[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=r[o];return i[t]=n(u),jt(e,this,i)}}function Bt(e,t){return It(Ft(e,t,Oe),e+"")}var Ut=9007199254740991;function Pe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ut}function ae(e){return e!=null&&Pe(e.length)&&!ne(e)}function Ht(e,t,n){if(!O(n))return!1;var r=typeof t;return(r=="number"?ae(n)&&we(t,n.length):r=="string"&&t in n)?B(n[t],e):!1}function Gt(e){return Bt(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,u&&Ht(n[0],n[1],u)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var i=n[r];i&&e(t,i,r,a)}return t})}var Kt=Object.prototype;function Ae(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Kt;return e===n}function Lt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Wt="[object Arguments]";function de(e){return M(e)&&F(e)==Wt}var Se=Object.prototype,Vt=Se.hasOwnProperty,qt=Se.propertyIsEnumerable,Y=de(function(){return arguments}())?de:function(e){return M(e)&&Vt.call(e,"callee")&&!qt.call(e,"callee")};function Zt(){return!1}var Ee=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pe=Ee&&typeof module=="object"&&module&&!module.nodeType&&module,Xt=pe&&pe.exports===Ee,he=Xt?$.Buffer:void 0,Jt=he?he.isBuffer:void 0,xe=Jt||Zt,Yt="[object Arguments]",Qt="[object Array]",kt="[object Boolean]",en="[object Date]",tn="[object Error]",nn="[object Function]",rn="[object Map]",on="[object Number]",an="[object Object]",sn="[object RegExp]",un="[object Set]",cn="[object String]",fn="[object WeakMap]",ln="[object ArrayBuffer]",dn="[object DataView]",pn="[object Float32Array]",hn="[object Float64Array]",vn="[object Int8Array]",yn="[object Int16Array]",mn="[object Int32Array]",gn="[object Uint8Array]",bn="[object Uint8ClampedArray]",_n="[object Uint16Array]",Cn="[object Uint32Array]",f={};f[pn]=f[hn]=f[vn]=f[yn]=f[mn]=f[gn]=f[bn]=f[_n]=f[Cn]=!0;f[Yt]=f[Qt]=f[ln]=f[kt]=f[dn]=f[en]=f[tn]=f[nn]=f[rn]=f[on]=f[an]=f[sn]=f[un]=f[cn]=f[fn]=!1;function Tn(e){return M(e)&&Pe(e.length)&&!!f[F(e)]}function jn(e){return function(t){return e(t)}}var Ie=typeof exports=="object"&&exports&&!exports.nodeType&&exports,x=Ie&&typeof module=="object"&&module&&!module.nodeType&&module,On=x&&x.exports===Ie,V=On&&Te.process,ve=function(){try{var e=x&&x.require&&x.require("util").types;return e||V&&V.binding&&V.binding("util")}catch(t){}}(),ye=ve&&ve.isTypedArray,$e=ye?jn(ye):Tn;function wn(e,t){var n=J(e),r=!n&&Y(e),o=!n&&!r&&xe(e),a=!n&&!r&&!o&&$e(e),u=n||r||o||a,i=u?Lt(e.length,String):[],s=i.length;for(var h in e)u&&(h=="length"||o&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||we(h,s))||i.push(h);return i}function Pn(e,t){return function(n){return e(t(n))}}function An(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Sn=Object.prototype,En=Sn.hasOwnProperty;function xn(e){if(!O(e))return An(e);var t=Ae(e),n=[];for(var r in e)r=="constructor"&&(t||!En.call(e,r))||n.push(r);return n}function Me(e){return ae(e)?wn(e):xn(e)}var I=re(Object,"create");function In(){this.__data__=I?I(null):{},this.size=0}function $n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Mn="__lodash_hash_undefined__",Nn=Object.prototype,Rn=Nn.hasOwnProperty;function Dn(e){var t=this.__data__;if(I){var n=t[e];return n===Mn?void 0:n}return Rn.call(t,e)?t[e]:void 0}var zn=Object.prototype,Fn=zn.hasOwnProperty;function Bn(e){var t=this.__data__;return I?t[e]!==void 0:Fn.call(t,e)}var Un="__lodash_hash_undefined__";function Hn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=I&&t===void 0?Un:t,this}function j(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}j.prototype.clear=In;j.prototype.delete=$n;j.prototype.get=Dn;j.prototype.has=Bn;j.prototype.set=Hn;function Gn(){this.__data__=[],this.size=0}function U(e,t){for(var n=e.length;n--;)if(B(e[n][0],t))return n;return-1}var Kn=Array.prototype,Ln=Kn.splice;function Wn(e){var t=this.__data__,n=U(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ln.call(t,n,1),--this.size,!0}function Vn(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]}function qn(e){return U(this.__data__,e)>-1}function Zn(e,t){var n=this.__data__,r=U(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function C(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}C.prototype.clear=Gn;C.prototype.delete=Wn;C.prototype.get=Vn;C.prototype.has=qn;C.prototype.set=Zn;var Ne=re($,"Map");function Xn(){this.size=0,this.__data__={hash:new j,map:new(Ne||C),string:new j}}function Jn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function H(e,t){var n=e.__data__;return Jn(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Yn(e){var t=H(this,e).delete(e);return this.size-=t?1:0,t}function Qn(e){return H(this,e).get(e)}function kn(e){return H(this,e).has(e)}function er(e,t){var n=H(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function P(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}P.prototype.clear=Xn;P.prototype.delete=Yn;P.prototype.get=Qn;P.prototype.has=kn;P.prototype.set=er;var Re=Pn(Object.getPrototypeOf,Object),tr="[object Object]",nr=Function.prototype,rr=Object.prototype,De=nr.toString,or=rr.hasOwnProperty,ar=De.call(Object);function ir(e){if(!M(e)||F(e)!=tr)return!1;var t=Re(e);if(t===null)return!0;var n=or.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&De.call(n)==ar}function sr(){this.__data__=new C,this.size=0}function ur(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function cr(e){return this.__data__.get(e)}function fr(e){return this.__data__.has(e)}var lr=200;function dr(e,t){var n=this.__data__;if(n instanceof C){var r=n.__data__;if(!Ne||r.length<lr-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new P(r)}return n.set(e,t),this.size=n.size,this}function A(e){var t=this.__data__=new C(e);this.size=t.size}A.prototype.clear=sr;A.prototype.delete=ur;A.prototype.get=cr;A.prototype.has=fr;A.prototype.set=dr;var pr=typeof exports=="object"&&exports&&!exports.nodeType&&exports;pr&&typeof module=="object"&&module&&module.nodeType;function hr(e,t){return e.slice()}var me=$.Uint8Array;function vr(e){var t=new e.constructor(e.byteLength);return new me(t).set(new me(e)),t}function yr(e,t){var n=vr(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}function mr(e){return typeof e.constructor=="function"&&!Ae(e)?Tt(Re(e)):{}}function gr(e){return function(t,n,r){for(var o=-1,a=Object(t),u=r(t),i=u.length;i--;){var s=u[++o];if(n(a[s],s,a)===!1)break}return t}}var br=gr();function Q(e,t,n){(n!==void 0&&!B(e[t],n)||n===void 0&&!(t in e))&&oe(e,t,n)}function _r(e){return M(e)&&ae(e)}function k(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Cr(e){return zt(e,Me(e))}function Tr(e,t,n,r,o,a,u){var i=k(e,n),s=k(t,n),h=u.get(s);if(h){Q(e,n,h);return}var d=a?a(i,s,n+"",e,t,u):void 0,v=d===void 0;if(v){var g=J(s),b=!g&&xe(s),_=!g&&!b&&$e(s);d=s,g||b||_?J(i)?d=i:_r(i)?d=Ot(i):b?(v=!1,d=hr(s)):_?(v=!1,d=yr(s)):d=[]:ir(s)||Y(s)?(d=i,Y(i)?d=Cr(i):(!O(i)||ne(i))&&(d=mr(s))):v=!1}v&&(u.set(s,d),o(d,s,r,a,u),u.delete(s)),Q(e,n,d)}function ze(e,t,n,r,o){e!==t&&br(t,function(a,u){if(o||(o=new A),O(a))Tr(e,t,u,n,ze,r,o);else{var i=r?r(k(e,u),a,u+"",e,t,o):void 0;i===void 0&&(i=a),Q(e,u,i)}},Me)}var ge=Gt(function(e,t,n){ze(e,t,n)});function jr(e){const{render:t,defaultConfig:n={},configTransformer:r}=e;return function(o){const a=c.getCurrentInstance();return function(i,s){const h=c.computed(()=>{const b=typeof o=="function"?o():o,_=typeof s=="function"?s():s,l=ge({},n,b,_);return r?r(l):l}),d=c.ref(!1),v={value:null},g=c.defineComponent({setup:()=>{const b=c.computed(()=>{const w=typeof o=="function"?o():o,N=typeof s=="function"?s():s,p=ge({},n,w,N);return r?r(p):p}),_=c.ref(),G={componentRef:_,onMounted:()=>{Promise.resolve().then(()=>{v.value.componentRef=_})},config:b,consumer:v,visible:d};return()=>t(i,G)}});return v.value=Ce(a,c.createVNode(g,null,null),L(T({},h.value),{visible:d})),v.value}}}exports.CommandComponentConsumerInjectKey=te;exports.CommandComponentStackInjectKey=q;exports.ConsumerEventBus=be;exports.EVENT_NAME=ee;exports.PromiseWithResolvers=_e;exports.RxRender=qe;exports.activeConsumers=Z;exports.busName2EventName=Le;exports.commandProviderWithRender=Ce;exports.createAdapter=jr;exports.eventName2BusName=Ke;exports.getMaxZIndex=We;exports.isNull=Ve;exports.useConsumer=Xe;exports.uuid=Ze;
