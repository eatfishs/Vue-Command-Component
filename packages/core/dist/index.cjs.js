"use strict";var Be=Object.defineProperty,Ue=Object.defineProperties;var He=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable;var G=(e,t,n)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e,t)=>{for(var n in t||(t={}))Ve.call(t,n)&&G(e,n,t[n]);if(se)for(var n of se(t))Ge.call(t,n)&&G(e,n,t[n]);return e},K=(e,t)=>Ue(e,He(t));var ue=(e,t,n)=>G(e,typeof t!="symbol"?t+"":t,n);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("vue");var ee=(e=>(e.destroy="destroy",e))(ee||{});class _e{constructor(){ue(this,"map",new WeakMap)}getEventsMapByConsumer(t){let n=this.map.get(t);return n||(n=new Map,this.map.set(t,n)),n}getEventsByConsumer(t,n){const r=this.getEventsMapByConsumer(t);let o=r.get(n);return o||(o=new Set,r.set(n,o)),o}on(t,n,r,o={}){const a=this.getEventsByConsumer(t,n);let u=r;o.once&&(u=(...i)=>{r(...i),this.off(t,n,u)}),a.add(u),o.callImmediatelyAfterDelay!==void 0&&setTimeout(()=>{u()},o.callImmediatelyAfterDelay||0)}once(t,n,r,o={}){this.on(t,n,r,K(T({},o),{once:!0}))}emit(t,n,...r){this.getEventsByConsumer(t,n).forEach(a=>a(...r))}off(t,n,r){this.getEventsByConsumer(t,n).delete(r)}}const Ke=(e="")=>e.slice(2).toLowerCase(),Le=(e="")=>`on${e.charAt(0).toUpperCase()}${e.slice(1)}`,Ce=()=>{let e=()=>{},t=()=>{};return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}},We=e=>{var r;const t=((r=e.parentElement)==null?void 0:r.children)||[];let n=0;return Array.from(t).forEach(o=>{if(o!==e){const a=parseInt(window.getComputedStyle(o).zIndex);!isNaN(a)&&a>n&&(n=a)}}),+n},qe=e=>e==null,Ze=e=>typeof e!="function"?e:c.h(c.defineComponent({render:()=>e()})),Xe=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),te=()=>parseInt(c.version.split(".")[0])>=3,ne=Symbol("CommandComponentConsumerInjectKey"),q=Symbol("CommandComponentStackInjectKey"),R=new _e,Z=new Set,X=e=>T(T({},e.parent?X(e.parent):{}),e.provides);function Te(e,t,n){var N;if(!te())throw new Error("Vue 3.0 or higher is required");e||c.render(c.h({setup(){return e=c.getCurrentInstance(),()=>null}}),document.body);const r=(typeof n.appendTo=="string"?document.querySelector(n.appendTo):n.appendTo)||((N=e.vnode.el)==null?void 0:N.parentElement)||document.body,o=document.createElement("div");o.className=n.customClassName||"command-component-container";const a=()=>{if(l.destroyed)throw new Error("Consumer has been destroyed");n.visible.value=!1},u=()=>{if(l.destroyed)throw new Error("Consumer has been destroyed");n.visible.value=!0},i=()=>{c.nextTick(()=>{c.render(null,o),o.remove()})},{promise:s,resolve:h,reject:d}=Ce(),v=3e3,y=(p=!1)=>{p?(a(),l.once(ee.destroy,i,{once:!0,callImmediatelyAfterDelay:v})):(Z.delete(l),l.stack.splice(l.stackIndex).forEach(m=>m.destroy(!0)),l.destroyed=!0)},b=p=>{h(p),y()},_=p=>{d(p),y()},l={meta:n.meta||{},promise:s,resolve:h,reject:d,destroyWithResolve:b,destroyWithReject:_,hide:a,show:u,destroy:y,container:o,visible:n.visible,on:(p,g,m={})=>R.on(l,p,g,m),once:(p,g,m={})=>R.on(l,p,g,m),emit:(p,...g)=>R.emit(l,p,...g),off:(p,g)=>R.off(l,p,g),stack:[],stackIndex:-1,componentRef:void 0,mounted:!1,destroyed:!1},V=c.defineComponent({setup(){const p=c.getCurrentInstance();for(const S in n.provideProps)c.provide(S,n.provideProps[S]);const g=T(T({},X(p)),X(e));for(const S in g)c.provide(S,g[S]);c.provide(ne,l);const m=c.inject(q,[]);return l.stackIndex=m.length,m.push(l),c.provide(q,m),l.stack=m,()=>c.h(t)}}),O=c.createVNode(V,null,null);return O.appContext=(e==null?void 0:e.appContext)||O.appContext,n.fragment?(Object.assign(o.style,{display:"none",position:"absolute",pointerEvents:"none"}),document.head.appendChild(o),c.render(c.h(c.Teleport,{to:r},O),o)):(r.appendChild(o),c.render(O,o)),(n.immediate===void 0||n.immediate)&&l.show(),l.mounted=!0,Z.add(l),l}const Je=(e=!0)=>{const t=()=>e&&console.warn(`Failed to get Consumer instance. Please note:
    1. This function needs to be called directly in the setup top level.
    2. Make sure to display this component inside a command dialog, or you can ignore this warning message by using warn parameter: useConsumer(false)`);return c.inject(ne,()=>new Proxy({},{get:()=>t,apply:t}),!0)};var je=typeof global=="object"&&global&&global.Object===Object&&global,Ye=typeof self=="object"&&self&&self.Object===Object&&self,$=je||Ye||Function("return this")(),D=$.Symbol,we=Object.prototype,Qe=we.hasOwnProperty,ke=we.toString,E=D?D.toStringTag:void 0;function et(e){var t=Qe.call(e,E),n=e[E];try{e[E]=void 0;var r=!0}catch(a){}var o=ke.call(e);return r&&(t?e[E]=n:delete e[E]),o}var tt=Object.prototype,nt=tt.toString;function rt(e){return nt.call(e)}var ot="[object Null]",at="[object Undefined]",ce=D?D.toStringTag:void 0;function F(e){return e==null?e===void 0?at:ot:ce&&ce in Object(e)?et(e):rt(e)}function M(e){return e!=null&&typeof e=="object"}var J=Array.isArray;function w(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Oe(e){return e}var it="[object AsyncFunction]",st="[object Function]",ut="[object GeneratorFunction]",ct="[object Proxy]";function re(e){if(!w(e))return!1;var t=F(e);return t==st||t==ut||t==it||t==ct}var L=$["__core-js_shared__"],fe=function(){var e=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ft(e){return!!fe&&fe in e}var lt=Function.prototype,dt=lt.toString;function pt(e){if(e!=null){try{return dt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var ht=/[\\^$.*+?()[\]{}|]/g,vt=/^\[object .+?Constructor\]$/,gt=Function.prototype,mt=Object.prototype,yt=gt.toString,bt=mt.hasOwnProperty,_t=RegExp("^"+yt.call(bt).replace(ht,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ct(e){if(!w(e)||ft(e))return!1;var t=re(e)?_t:vt;return t.test(pt(e))}function Tt(e,t){return e==null?void 0:e[t]}function oe(e,t){var n=Tt(e,t);return Ct(n)?n:void 0}var le=Object.create,jt=function(){function e(){}return function(t){if(!w(t))return{};if(le)return le(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function wt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Pt=800,At=16,St=Date.now;function Et(e){var t=0,n=0;return function(){var r=St(),o=At-(r-n);if(n=r,o>0){if(++t>=Pt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xt(e){return function(){return e}}var z=function(){try{var e=oe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),It=z?function(e,t){return z(e,"toString",{configurable:!0,enumerable:!1,value:xt(t),writable:!0})}:Oe,$t=Et(It),Mt=9007199254740991,Nt=/^(?:0|[1-9]\d*)$/;function Pe(e,t){var n=typeof e;return t=t==null?Mt:t,!!t&&(n=="number"||n!="symbol"&&Nt.test(e))&&e>-1&&e%1==0&&e<t}function ae(e,t,n){t=="__proto__"&&z?z(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function B(e,t){return e===t||e!==e&&t!==t}var Rt=Object.prototype,Dt=Rt.hasOwnProperty;function zt(e,t,n){var r=e[t];(!(Dt.call(e,t)&&B(r,n))||n===void 0&&!(t in e))&&ae(e,t,n)}function Ft(e,t,n,r){var o=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var i=t[a],s=void 0;s===void 0&&(s=e[i]),o?ae(n,i,s):zt(n,i,s)}return n}var de=Math.max;function Bt(e,t,n){return t=de(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=de(r.length-t,0),u=Array(a);++o<a;)u[o]=r[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=r[o];return i[t]=n(u),wt(e,this,i)}}function Ut(e,t){return $t(Bt(e,t,Oe),e+"")}var Ht=9007199254740991;function Ae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ht}function ie(e){return e!=null&&Ae(e.length)&&!re(e)}function Vt(e,t,n){if(!w(n))return!1;var r=typeof t;return(r=="number"?ie(n)&&Pe(t,n.length):r=="string"&&t in n)?B(n[t],e):!1}function Gt(e){return Ut(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,u&&Vt(n[0],n[1],u)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var i=n[r];i&&e(t,i,r,a)}return t})}var Kt=Object.prototype;function Se(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Kt;return e===n}function Lt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Wt="[object Arguments]";function pe(e){return M(e)&&F(e)==Wt}var Ee=Object.prototype,qt=Ee.hasOwnProperty,Zt=Ee.propertyIsEnumerable,Y=pe(function(){return arguments}())?pe:function(e){return M(e)&&qt.call(e,"callee")&&!Zt.call(e,"callee")};function Xt(){return!1}var xe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,he=xe&&typeof module=="object"&&module&&!module.nodeType&&module,Jt=he&&he.exports===xe,ve=Jt?$.Buffer:void 0,Yt=ve?ve.isBuffer:void 0,Ie=Yt||Xt,Qt="[object Arguments]",kt="[object Array]",en="[object Boolean]",tn="[object Date]",nn="[object Error]",rn="[object Function]",on="[object Map]",an="[object Number]",sn="[object Object]",un="[object RegExp]",cn="[object Set]",fn="[object String]",ln="[object WeakMap]",dn="[object ArrayBuffer]",pn="[object DataView]",hn="[object Float32Array]",vn="[object Float64Array]",gn="[object Int8Array]",mn="[object Int16Array]",yn="[object Int32Array]",bn="[object Uint8Array]",_n="[object Uint8ClampedArray]",Cn="[object Uint16Array]",Tn="[object Uint32Array]",f={};f[hn]=f[vn]=f[gn]=f[mn]=f[yn]=f[bn]=f[_n]=f[Cn]=f[Tn]=!0;f[Qt]=f[kt]=f[dn]=f[en]=f[pn]=f[tn]=f[nn]=f[rn]=f[on]=f[an]=f[sn]=f[un]=f[cn]=f[fn]=f[ln]=!1;function jn(e){return M(e)&&Ae(e.length)&&!!f[F(e)]}function wn(e){return function(t){return e(t)}}var $e=typeof exports=="object"&&exports&&!exports.nodeType&&exports,x=$e&&typeof module=="object"&&module&&!module.nodeType&&module,On=x&&x.exports===$e,W=On&&je.process,ge=function(){try{var e=x&&x.require&&x.require("util").types;return e||W&&W.binding&&W.binding("util")}catch(t){}}(),me=ge&&ge.isTypedArray,Me=me?wn(me):jn;function Pn(e,t){var n=J(e),r=!n&&Y(e),o=!n&&!r&&Ie(e),a=!n&&!r&&!o&&Me(e),u=n||r||o||a,i=u?Lt(e.length,String):[],s=i.length;for(var h in e)u&&(h=="length"||o&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Pe(h,s))||i.push(h);return i}function An(e,t){return function(n){return e(t(n))}}function Sn(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var En=Object.prototype,xn=En.hasOwnProperty;function In(e){if(!w(e))return Sn(e);var t=Se(e),n=[];for(var r in e)r=="constructor"&&(t||!xn.call(e,r))||n.push(r);return n}function Ne(e){return ie(e)?Pn(e):In(e)}var I=oe(Object,"create");function $n(){this.__data__=I?I(null):{},this.size=0}function Mn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Nn="__lodash_hash_undefined__",Rn=Object.prototype,Dn=Rn.hasOwnProperty;function zn(e){var t=this.__data__;if(I){var n=t[e];return n===Nn?void 0:n}return Dn.call(t,e)?t[e]:void 0}var Fn=Object.prototype,Bn=Fn.hasOwnProperty;function Un(e){var t=this.__data__;return I?t[e]!==void 0:Bn.call(t,e)}var Hn="__lodash_hash_undefined__";function Vn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=I&&t===void 0?Hn:t,this}function j(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}j.prototype.clear=$n;j.prototype.delete=Mn;j.prototype.get=zn;j.prototype.has=Un;j.prototype.set=Vn;function Gn(){this.__data__=[],this.size=0}function U(e,t){for(var n=e.length;n--;)if(B(e[n][0],t))return n;return-1}var Kn=Array.prototype,Ln=Kn.splice;function Wn(e){var t=this.__data__,n=U(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ln.call(t,n,1),--this.size,!0}function qn(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]}function Zn(e){return U(this.__data__,e)>-1}function Xn(e,t){var n=this.__data__,r=U(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function C(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}C.prototype.clear=Gn;C.prototype.delete=Wn;C.prototype.get=qn;C.prototype.has=Zn;C.prototype.set=Xn;var Re=oe($,"Map");function Jn(){this.size=0,this.__data__={hash:new j,map:new(Re||C),string:new j}}function Yn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function H(e,t){var n=e.__data__;return Yn(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Qn(e){var t=H(this,e).delete(e);return this.size-=t?1:0,t}function kn(e){return H(this,e).get(e)}function er(e){return H(this,e).has(e)}function tr(e,t){var n=H(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function P(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}P.prototype.clear=Jn;P.prototype.delete=Qn;P.prototype.get=kn;P.prototype.has=er;P.prototype.set=tr;var De=An(Object.getPrototypeOf,Object),nr="[object Object]",rr=Function.prototype,or=Object.prototype,ze=rr.toString,ar=or.hasOwnProperty,ir=ze.call(Object);function sr(e){if(!M(e)||F(e)!=nr)return!1;var t=De(e);if(t===null)return!0;var n=ar.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ze.call(n)==ir}function ur(){this.__data__=new C,this.size=0}function cr(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function fr(e){return this.__data__.get(e)}function lr(e){return this.__data__.has(e)}var dr=200;function pr(e,t){var n=this.__data__;if(n instanceof C){var r=n.__data__;if(!Re||r.length<dr-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new P(r)}return n.set(e,t),this.size=n.size,this}function A(e){var t=this.__data__=new C(e);this.size=t.size}A.prototype.clear=ur;A.prototype.delete=cr;A.prototype.get=fr;A.prototype.has=lr;A.prototype.set=pr;var hr=typeof exports=="object"&&exports&&!exports.nodeType&&exports;hr&&typeof module=="object"&&module&&module.nodeType;function vr(e,t){return e.slice()}var ye=$.Uint8Array;function gr(e){var t=new e.constructor(e.byteLength);return new ye(t).set(new ye(e)),t}function mr(e,t){var n=gr(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}function yr(e){return typeof e.constructor=="function"&&!Se(e)?jt(De(e)):{}}function br(e){return function(t,n,r){for(var o=-1,a=Object(t),u=r(t),i=u.length;i--;){var s=u[++o];if(n(a[s],s,a)===!1)break}return t}}var _r=br();function Q(e,t,n){(n!==void 0&&!B(e[t],n)||n===void 0&&!(t in e))&&ae(e,t,n)}function Cr(e){return M(e)&&ie(e)}function k(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Tr(e){return Ft(e,Ne(e))}function jr(e,t,n,r,o,a,u){var i=k(e,n),s=k(t,n),h=u.get(s);if(h){Q(e,n,h);return}var d=a?a(i,s,n+"",e,t,u):void 0,v=d===void 0;if(v){var y=J(s),b=!y&&Ie(s),_=!y&&!b&&Me(s);d=s,y||b||_?J(i)?d=i:Cr(i)?d=Ot(i):b?(v=!1,d=vr(s)):_?(v=!1,d=mr(s)):d=[]:sr(s)||Y(s)?(d=i,Y(i)?d=Tr(i):(!w(i)||re(i))&&(d=yr(s))):v=!1}v&&(u.set(s,d),o(d,s,r,a,u),u.delete(s)),Q(e,n,d)}function Fe(e,t,n,r,o){e!==t&&_r(t,function(a,u){if(o||(o=new A),w(a))jr(e,t,u,n,Fe,r,o);else{var i=r?r(k(e,u),a,u+"",e,t,o):void 0;i===void 0&&(i=a),Q(e,u,i)}},Ne)}var be=Gt(function(e,t,n){Fe(e,t,n)});function wr(e){if(!te())throw new Error("Vue 3.0 or higher is required");const{render:t,defaultConfig:n={},configTransformer:r}=e;return function(o){const a=c.getCurrentInstance();return function(i,s){const h=c.computed(()=>{const b=typeof o=="function"?o():o,_=typeof s=="function"?s():s,l=be({},n,b,_);return r?r(l):l}),d=c.ref(!1),v={value:null},y=c.defineComponent({setup:()=>{const b=c.computed(()=>{const O=typeof o=="function"?o():o,N=typeof s=="function"?s():s,p=be({},n,O,N);return r?r(p):p}),_=c.ref(),V={componentRef:_,onMounted:()=>{Promise.resolve().then(()=>{v.value.componentRef=_})},config:b,consumer:v,visible:d};return()=>t(i,V)}});return v.value=Te(a,c.createVNode(y,null,null),K(T({},h.value),{visible:d})),v.value}}}exports.CommandComponentConsumerInjectKey=ne;exports.CommandComponentStackInjectKey=q;exports.ConsumerEventBus=_e;exports.EVENT_NAME=ee;exports.PromiseWithResolvers=Ce;exports.RxRender=Ze;exports.activeConsumers=Z;exports.busName2EventName=Le;exports.commandProviderWithRender=Te;exports.createAdapter=wr;exports.eventName2BusName=Ke;exports.getMaxZIndex=We;exports.isNull=qe;exports.isVue3OrHigher=te;exports.useConsumer=Je;exports.uuid=Xe;
